(()=>{"use strict";function t(t){return"russian"===t?"–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞":"Virtual Keyboard"}const e="GXz1rEgm",n="CTMQL0zM",s="IC9ZcCmi",r="Pu3W9Vw5",a="EhsMYNu8",c="CGq9vCA4",o="Bct6hDbR",i=["Tab","Enter","Shift","Caps","Shift-r","space","üåê","Backspace","Del","Ctrl","Alt","Ctrl-r","Alt-r","‚óÑ","‚ñº","‚ñ∫","‚ñ≤"],l=["Backspace","Enter","Shift","Caps","Shift-r"],u={english:{normal:["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del","Caps","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","‚ñ≤","Shift-r","Ctrl","üåê","Alt","space","Alt-r","‚óÑ","‚ñº","‚ñ∫","Ctrl-r"],capslocked:["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","Q","W","E","R","T","Y","U","I","O","P","[","]","\\","Del","Caps","A","S","D","F","G","H","J","K","L",";","'","Enter","Shift","Z","X","C","V","B","N","M",",",".","/","‚ñ≤","Shift-r","Ctrl","üåê","Alt","space","Alt-r","‚óÑ","‚ñº","‚ñ∫","Ctrl-r"],shifted:["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","Del","Caps","A","S","D","F","G","H","J","K","L",":",'"',"Enter","Shift","Z","X","C","V","B","N","M","<",">","?","‚ñ≤","Shift-r","Ctrl","üåê","Alt","space","Alt-r","‚óÑ","‚ñº","‚ñ∫","Ctrl-r"],shifted_capslocked:["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","{","}","|","Del","Caps","a","s","d","f","g","h","j","k","l",":",'"',"Enter","Shift","z","x","c","v","b","n","m","<",">","?","‚ñ≤","Shift-r","Ctrl","üåê","Alt","space","Alt-r","‚óÑ","‚ñº","‚ñ∫","Ctrl-r"]},russian:{normal:["—ë","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","–π","—Ü","—É","–∫","–µ","–Ω","–≥","—à","—â","–∑","—Ö","—ä","\\","Del","Caps","—Ñ","—ã","–≤","–∞","–ø","—Ä","–æ","–ª","–¥","–∂","—ç","Enter","Shift","—è","—á","—Å","–º","–∏","—Ç","—å","–±","—é",".","‚ñ≤","Shift-r","Ctrl","üåê","Alt","space","Alt-r","‚óÑ","‚ñº","‚ñ∫","Ctrl-r"],capslocked:["–Å","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","–ô","–¶","–£","–ö","–ï","–ù","–ì","–®","–©","–ó","–•","–™","\\","Del","Caps","–§","–´","–í","–ê","–ü","–†","–û","–õ","–î","–ñ","–≠","Enter","Shift","–Ø","–ß","–°","–ú","–ò","–¢","–¨","–ë","–Æ",".","‚ñ≤","Shift-r","Ctrl","üåê","Alt","space","Alt-r","‚óÑ","‚ñº","‚ñ∫","Ctrl-r"],shifted:["–Å","!",'"',"‚Ññ",";","%",":","?","*","(",")","_","+","Backspace","Tab","–ô","–¶","–£","–ö","–ï","–ù","–ì","–®","–©","–ó","–•","–™","/","Del","Caps","–§","–´","–í","–ê","–ü","–†","–û","–õ","–î","–ñ","–≠","Enter","Shift","–Ø","–ß","–°","–ú","–ò","–¢","–¨","–ë","–Æ",",","‚ñ≤","Shift-r","Ctrl","üåê","Alt","space","Alt-r","‚óÑ","‚ñº","‚ñ∫","Ctrl-r"],shifted_capslocked:["—ë","!",'"',"‚Ññ",";","%",":","?","*","(",")","_","+","Backspace","Tab","–π","—Ü","—É","–∫","–µ","–Ω","–≥","—à","—â","–∑","—Ö","—ä","/","Del","Caps","—Ñ","—ã","–≤","–∞","–ø","—Ä","–æ","–ª","–¥","–∂","—ç","Enter","Shift","—è","—á","—Å","–º","–∏","—Ç","—å","–±","—é",",","‚ñ≤","Shift-r","Ctrl","üåê","Alt","space","Alt-r","‚óÑ","‚ñº","‚ñ∫","Ctrl-r"]}};function d(t,e){return t&&e?"shifted_capslocked":t?"shifted":e?"capslocked":"normal"}const p=["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight","ControlLeft","üåê","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"],h=u.english.normal.map(((t,e)=>p[e]));function f(t,e,n){const s=t.split("\n").map((t=>{const e=t.split("");return e.push("\n"),e}));let r=0,a=e;if(s.every((t=>a>=t.length&&a>0&&(r+=1,a-=t.length,!0))),"UP"===n)if(r>0){r-=1;const t=s[r].length-1;a=a>t?t:a}else a=0;else if(r<s.length-1){r+=1;const t=s[r].length-1;a=a>t?t:a}else a=s[r].length-1;return s.slice(0,r).flat().length+a}function g(t,e){switch(e.type){case"MOUSE_DOWN":return function(t,e){switch(e){case"Shift":return{...t,shift:!0};case"Caps":case"üåê":return t;case"‚óÑ":return function(t){return 0===t.cursorPosition?t:{...t,cursorPosition:t.cursorPosition-1}}(t);case"‚ñ∫":return function(t){const e=t.cursorPosition<t.textareaContent.length?t.cursorPosition+1:t.textareaContent.length;return{...t,cursorPosition:e}}(t);case"‚ñ≤":return function(t){const{textareaContent:e,cursorPosition:n}=t,s=f(e,n,"UP");return{...t,cursorPosition:s}}(t);case"‚ñº":return function(t){const{textareaContent:e,cursorPosition:n}=t,s=f(e,n,"DOWN");return{...t,cursorPosition:s}}(t);case"Enter":return function(t){const{textareaContent:e,cursorPosition:n}=t,s=`${e.slice(0,n)}\n${e.slice(n)}`;return{...t,textareaContent:s,cursorPosition:n+1,lineLength:0}}(t);case"Backspace":return function(t){const{textareaContent:e,cursorPosition:n}=t;if(0===n)return t;const s=e.slice(0,n-1)+e.slice(n);return{...t,textareaContent:s,cursorPosition:n-1}}(t);case"Del":return function(t){const{textareaContent:e,cursorPosition:n}=t,s=e.slice(0,n)+e.slice(n+1);return{...t,textareaContent:s}}(t);case"space":return function(t){const{textareaContent:e,cursorPosition:n}=t,s=`${e.slice(0,n)} ${e.slice(n)}`;return{...t,textareaContent:s,cursorPosition:n+1}}(t);case"Tab":return function(t){const{textareaContent:e,cursorPosition:n}=t,s=`${e.slice(0,n)}\t${e.slice(n)}`;return{...t,textareaContent:s,cursorPosition:n+1}}(t);case"Ctrl":return{...t,control:!0};case"Alt":return{...t,alt:!0};default:return function(t,e){const{textareaContent:n,cursorPosition:s,lineLength:r}=t,a=r>=59,c=a?s+2:s+1,o=n.slice(0,s)+e+n.slice(s);return{...t,textareaContent:a?`${o}\n`:o,cursorPosition:c,lineLength:a?0:r+1}}(t,e)}}(t,e.payload);case"MOUSE_UP":return function(t,e){switch(e){case"Caps":return{...t,capslock:!t.capslock};case"Shift":return{...t,shift:!1};case"üåê":return function(t){const e="english"===t.lang?"russian":"english";return localStorage.setItem("üåê",e),{...t,lang:e}}(t);case"Ctrl":return{...t,control:!1};case"Alt":return{...t,alt:!1};default:return{...t}}}(t,e.payload);case"TEXTAREA_CLICK":return{...t,cursorPosition:e.payload};default:return t}}const C="Keyboard created in the Windows operating system\n\n  To switch the language combination: left  Ctrl + Alt",y="–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞ –≤ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ Windows\n\n  –î–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è: –ª–µ–≤—ã–µ Ctrl + Alt";function S(t){return"russian"===t?y:C}const E=new class{store=function(t,e){let n=t(e,{type:"__INIT__"});const s=[];return{dispatch(e){n=t(n,e),s.forEach((t=>t()))},subscribe(t){s.push(t)},getState:()=>n}}(g,{lang:localStorage.getItem("üåê")||"english",shift:!1,capslock:!1,control:!1,alt:!1,textareaContent:"",cursorPosition:0,lineLength:0});keyDownHandler=t=>{const{shift:e}=this.store.getState(),n=document.getElementById(t.code);n&&(t.preventDefault(),"AltRight"===n.id||n.id.includes("Shift")&&e||this.store.dispatch({type:"MOUSE_DOWN",payload:n.innerText}))};keyUpHandler=t=>{const{alt:e,control:n}=this.store.getState();e&&n&&this.store.dispatch({type:"MOUSE_UP",payload:"üåê"});const s=document.getElementById(t.code);s&&(t.preventDefault(),this.store.dispatch({type:"MOUSE_UP",payload:s.innerText}))};run(){const{body:p}=document;p.innerHTML="",p.append(function(e){const{lang:n}=e.getState(),s=document.createElement("h1");return s.classList.add("PvjTCExH"),s.innerText=t(n),e.subscribe((()=>{const{lang:n}=e.getState();s.innerText=t(n)})),s}(this.store)),p.append(function(t){const e=document.createElement("textarea");return e.classList.add("n59Day3B"),e.autofocus=!0,e.addEventListener("click",(()=>{const n="backward"===e.selectionDirection?e.selectionStart:e.selectionEnd;t.dispatch({type:"TEXTAREA_CLICK",payload:n})})),t.subscribe((()=>{const{textareaContent:n,cursorPosition:s}=t.getState();e.value=n,e.selectionStart=s,e.selectionEnd=s,e.focus()})),e}(this.store)),p.append(function(t){const p=document.createElement("div");p.classList.add("iTvXPRRc");let{lang:f,capslock:g,shift:C}=t.getState();const y=d(C,g);return u[f][y].forEach(((u,d)=>{const f=function(t,u){const d=document.createElement("button");return d.classList.add(e),d.id=u,l.includes(t)&&d.classList.add(n),i.includes(t)&&d.classList.add(r),"space"===t?d.classList.add(s):"Caps"===t&&d.classList.add(a),[d.innerText]=t.split("-r"),"Space"===u&&(d.style.color="transparent"),"CapsLock"===u&&d.addEventListener("click",(()=>{d.classList.toggle(c)})),document.body.addEventListener("keydown",(t=>{"AltRight"===t.code&&document.getElementById("ControlLeft").classList.remove(o),t.code===d.id&&d.classList.add(o)})),document.body.addEventListener("keyup",(t=>{t.code===d.id&&d.classList.remove(o),"CapsLock"===t.code&&d.classList.toggle(c),t.code.includes("Shift")&&d.classList.remove(o)})),d}(u,h[d]);f.addEventListener("mousedown",(e=>t.dispatch({type:"MOUSE_DOWN",payload:e.target.innerText}))),f.addEventListener("mouseup",(e=>t.dispatch({type:"MOUSE_UP",payload:e.target.innerText}))),p.append(f)})),t.subscribe((()=>{const e=t.getState();f===e.lang&&e.capslock===g&&e.shift===C||(f=e.lang,g=e.capslock,C=e.shift,function({lang:t,capslock:e,shift:n}){const s=d(n,e),r=u[t][s];h.forEach(((t,e)=>{const n=document.getElementById(t);[n.innerText]=r[e].split("-r")}))}(e))})),p}(this.store)),p.append(function(t){const{lang:e}=t.getState(),n=document.createElement("h4");return n.classList.add("UdIaYnji"),n.innerText=S(e),t.subscribe((()=>{const{lang:e}=t.getState();n.innerText=S(e)})),n}(this.store)),p.addEventListener("keydown",this.keyDownHandler),p.addEventListener("keyup",this.keyUpHandler)}};E.run()})();